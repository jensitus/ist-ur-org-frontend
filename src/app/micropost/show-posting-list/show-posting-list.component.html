<div>
  <ngb-pagination [collectionSize]="count" [(page)]="page" [maxSize]="2"
                  (pageChange)="getThePageNumber()"></ngb-pagination>
</div>
<div>
  <pre>Current page: {{page}}</pre>
</div>
<div class="row mb-3">
  <div class="col">
    <ng-container *ngIf="loading">
      <app-growing-spinner></app-growing-spinner>
    </ng-container>
    <ng-container *ngIf="microposts">
      <div *ngFor="let p of microposts">
        <div class="card mb-3">
          <div class="card-body">
            <div>
              <b>{{p.title}}</b>
            </div>
            <div [innerHTML]="p.content | url2linkPipe">
            </div>
            <div *ngFor="let photo of p.photos">
              <img [src]="photo.photo_url" width="100%">
            </div>
            <div>
              <small>{{p.username}} | {{p.created_at | date}} | <a [routerLink]="['/micropost/' + p.id]">link</a> </small>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
